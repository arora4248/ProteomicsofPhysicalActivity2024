net install med4way, from("https://raw.githubusercontent.com/anddis/med4way/master/") replace
use "/Users/elvayuee/Downloads/ACC_md.dta", clear
keep if f_21003_0_0 >=55
keep f_eid FU_time_fromACC dementia InvNorm_MVPA StrenorOther VigPA_Dich2 Accel_Ave_~s InvNorm_~425 Acc_sed_mi~s Season race f_21003_0_0 f_31_0_0 Education drinking smoking bodyfat gripstrength f_2020_0_0 chronic_co~s X1 X9 X14 X15 X16 X19 X25 X28 X31 X32 X33 X35 X37 X42 X44 X45 X47 X55 X56 X57 X59 X60 X62 X65 X68 X70 X71 X72 X74 X76 X84 X87 X91 X92 X96 X97 X99 X104 X106 X109 X110 X116 X118 X120 X123 X133 X134 X139 X141 X143 X144 X145 X147 X149 X152 X153 X155 X158 X163 X184 X185 X186 X189 X191 X192 X201 X224 X225 X227 X228 X232 X233 X235 X238 X242 X245 X246 X256 X257 X260 X263 X269 X271 X275 X279 X291 X296 X297 X299 X301 X307 X308 X309 X310 X311 X313 X314 X316 X317 X326 X329 X330 X331 X342 X343 X349 X353 X354 X355 X368 X370 X371 X378 X379 X380 X382 X383 X384 X385 X386 X387 X389 X390 X391 X396 X397 X398 X399 X400 X401 X402 X403 X405 X407 X412 X416 X424 X425 X426 X429 X430 X431 X432 X433 X435 X436 X437 X438 X439 X440 X442 X443 X444 X448 X449 X452 X453 X454 X463 X464 X466 X468 X472 X473 X474 X475 X483 X487 X490 X492 X495 X496 X498 X502 X503 X512 X514 X515 X519 X520 X528 X534 X535 X539 X540 X541 X543 X546 X547 X551 X553 X558 X559 X560 X566 X570 X574 X575 X579 X582 X583 X586 X587 X589 X591 X592 X593 X594 X599 X601 X606 X612 X619 X622 X624 X626 X627 X628 X629 X637 X638 X640 X643 X644 X650 X652 X654 X656 X659 X661 X662 X665 X666 X673 X674 X675 X676 X677 X680 X681 X686 X690 X691 X696 X701 X702 X706 X708 X710 X712 X713 X714 X716 X721 X726 X731 X733 X734 X736 X738 X740 X741 X743 X744 X745 X746 X749 X751 X756 X759 X761 X765 X769 X772 X777 X780 X782 X783 X786 X787 X795 X800 X803 X812 X813 X814 X823 X827 X835 X838 X848 X849 X851 X852 X853 X854 X856 X857 X858 X862 X865 X867 X868 X870 X873 X875 X878 X879 X883 X891 X896 X897 X901 X902 X903 X907 X910 X912 X913 X920 X922 X924 X927 X932 X933 X934 X939 X944 X946 X949 X954 X955 X964 X965 X969 X972 X977 X978 X981 X983 X986 X987 X988 X989 X990 X991 X992 X993 X995 X1001 X1003 X1005 X1007 X1008 X1009 X1011 X1012 X1013 X1015 X1019 X1021 X1026 X1031 X1032 X1036 X1039 X1040 X1046 X1047 X1049 X1052 X1057 X1059 X1060 X1063 X1064 X1065 X1067 X1068 X1071 X1072 X1073 X1074 X1075 X1076 X1077 X1087 X1088 X1089 X1090 X1092 X1093 X1094 X1098 X1112 X1113 X1114 X1118 X1122 X1123 X1127 X1133 X1134 X1137 X1138 X1139 X1141 X1142 X1144 X1147 X1151 X1152 X1156 X1161 X1164 X1170 X1171 X1174 X1175 X1178 X1181 X1190 X1192 X1195 X1202 X1204 X1205 X1206 X1207 X1208 X1212 X1213 X1214 X1216 X1217 X1220 X1222 X1225 X1226 X1227 X1228 X1234 X1237 X1240 X1245 X1247 X1248 X1253 X1258 X1260 X1264 X1267 X1270 X1271 X1273 X1275 X1278 X1281 X1282 X1284 X1285 X1286 X1288 X1289 X1291 X1293 X1296 X1298 X1306 X1307 X1314 X1318 X1319 X1324 X1325 X1331 X1333 X1334 X1339 X1342 X1343 X1344 X1346 X1347 X1348 X1349 X1352 X1354 X1355 X1356 X1357 X1362 X1364 X1365 X1366 X1369 X1371 X1379 X1380 X1381 X1382 X1384 X1387 X1389 X1390 X1391 X1392 X1402 X1407 X1408 X1415 X1418 X1422 X1425 X1430 X1431 X1440 X1446 X1448 X1449 X1450 X1451 X1454 X1455 X1457 X1460 X1461 X1462 X1463 X1464 X1466 X1469 X1475 X1481 X1486 X1491 X1492 X1507 X1508 X1511 X1513 X1516 X1517 X1520 X1521 X1523 X1532 X1533 X1538 X1539 X1540 X1541 X1544 X1550 X1551 X1553 X1555 X1557 X1560 X1563 X1565 X1567 X1571 X1572 X1573 X1575 X1577 X1578 X1579 X1580 X1581 X1582 X1587 X1590 X1593 X1594 X1599 X1601 X1603 X1604 X1605 X1607 X1611 X1612 X1613 X1616 X1617 X1619 X1622 X1627 X1628 X1631 X1632 X1633 X1635 X1648 X1652 X1657 X1660 X1667 X1677 X1680 X1684 X1686 X1691 X1693 X1695 X1698 X1701 X1702 X1705 X1708 X1710 X1711 X1714 X1719 X1723 X1731 X1732 X1733 X1737 X1738 X1739 X1743 X1745 X1753 X1755 X1761 X1765 X1766 X1769 X1770 X1772 X1773 X1778 X1779 X1783 X1784 X1785 X1786 X1788 X1791 X1792 X1793 X1796 X1799 X1801 X1802 X1803 X1809 X1810 X1811 X1813 X1817 X1820 X1821 X1822 X1832 X1833 X1836 X1837 X1840 X1842 X1843 X1844 X1847 X1850 X1855 X1856 X1862 X1863 X1867 X1876 X1878 X1880 X1881 X1883 X1884 X1885 X1891 X1894 X1895 X1896 X1897 X1898 X1901 X1905 X1907 X1909 X1910 X1914 X1917 X1921 X1923 X1924 X1927 X1929 X1930 X1935 X1938 X1939 X1944 X1945 X1947 X1948 X1953 X1955 X1956 X1963 X1964 X1969 X1972 X1975 X1977 X1979 X1980 X1982 X1993 X1994 X1995 X1996 X1998 X2006 X2007 X2011 X2019 X2021 X2024 X2025 X2034 X2035 X2036 X2043 X2046 X2048 X2050 X2052 X2053 X2054 X2057 X2061 X2062 X2063 X2066 X2067 X2068 X2073 X2078 X2079 X2082 X2090 X2095 X2096 X2099 X2101 X2102 X2103 X2110 X2118 X2126 X2128 X2130 X2133 X2135 X2148 X2149 X2151 X2152 X2156 X2157 X2158 X2159 X2161 X2163 X2164 X2166 X2167 X2176 X2177 X2178 X2180 X2181 X2184 X2187 X2189 X2190 X2191 X2199 X2201 X2202 X2203 X2206 X2210 X2212 X2214 X2215 X2216 X2217 X2218 X2227 X2228 X2237 X2244 X2247 X2249 X2253 X2255 X2256 X2260 X2263 X2264 X2265 X2266 X2267 X2269 X2274 X2279 X2280 X2285 X2291 X2293 X2294 X2295 X2297 X2298 X2306 X2308 X2311 X2315 X2316 X2319 X2321 X2323 X2324 X2328 X2351 X2354 X2355 X2356 X2358 X2359 X2362 X2367 X2369 X2373 X2374 X2379 X2380 X2381 X2382 X2384 X2386 X2387 X2394 X2399 X2402 X2403 X2404 X2408 X2411 X2412 X2414 X2421 X2422 X2423 X2426 X2430 X2431 X2435 X2438 X2442 X2445 X2446 X2447 X2449 X2450 X2452 X2454 X2455 X2456 X2458 X2460 X2461 X2468 X2471 X2473 X2477 X2482 X2485 X2490 X2491 X2494 X2498 X2499 X2500 X2507 X2510 X2511 X2513 X2515 X2517 X2524 X2525 X2526 X2534 X2538 X2540 X2541 X2543 X2544 X2547 X2548 X2553 X2563 X2564 X2568 X2569 X2571 X2577 X2592 X2598 X2600 X2601 X2604 X2607 X2608 X2610 X2616 X2618 X2634 X2636 X2637 X2642 X2654 X2658 X2659 X2660 X2664 X2665 X2670 X2672 X2677 X2680 X2682 X2685 X2687 X2692 X2707 X2709 X2710 X2711 X2712 X2716 X2717 X2718 X2719 X2720 X2721 X2722 X2724 X2726 X2727 X2728 X2730 X2731 X2732 X2733 X2737 X2738 X2739 X2740 X2743 X2746 X2747 X2750 X2752 X2754 X2758 X2759 X2760 X2762 X2765 X2776 X2778 X2779 X2793 X2796 X2800 X2801 X2806 X2808 X2812 X2817 X2820 X2821 X2826 X2829 X2834 X2840 X2841 X2845 X2847 X2850 X2851 X2854 X2857 X2859 X2860 X2866 X2867 X2868 X2870 X2876 X2877 X2879 X2880 X2886 X2890 X2891 X2892 X2893 X2894 X2897 X2902 X2903 X2907 X2912

tabulate race, generate(race_dummy)
tabulate smoking, generate(smoking_dummy)
replace FU_time_fromACC = "." if FU_time_fromACC == "NA"
destring FU_time_fromACC, replace
////////////
eststo clear
stset FU_time_fromACC dementia
ds X1 X9 X14 X15 X16 X19
local varlist `r(varlist)'
foreach var of local varlist {
    quietly summarize `var'
    local m = r(mean)
    med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	eststo:med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	set emptycells drop
}
esttab using new_accave_1.csv, p(%10.7e) replace

////////////////////////////////////////////////////////////
eststo clear
stset FU_time_fromACC dementia
ds X25 X28 X31 X32 X33 X35 X37 X42 X44 X45 X47 X55 X56 X57 X59 X60 X62 X65 X68 X70 X71 X72 X74 X76 X84 X87 X91 X92 X96 X97 X99 X104 X106 X109 X110 X116 X118 X120 X123 X133 X134 X139 X141 X143 X144 X145 X147 X149 X152 X153 X155 X158 X163 X184 X185 X186 X189 X191 X192 X201 X224 X225 X227 X228 X232 X233 X235 X238 X242 X245 X246 X256 X257 X260 X263 X269 X271 X275 X279 X291 X296 X297 X299 X301 X307 X308 X309 X310 X311 X313 X314 X316 X317 X326 X329 X330 X331 X342 X343 X349 X353 X354 X355 X368 X370 X371 X378 X379 X380 X382 X383 X384 X385 X386 X387 X389 X390 X391 X396 X397 X398 X399 X400 X401 X402 X403 X405 X407 X412 X416 X424 X425 X426 X429 X430 X431 X432 X433 X435 X436 X437 X438 X439 X440 X442 X443 X444 X448 X449 X452 X453 X454 X463 X464 X466 X468 X472 X473 X474 X475 X483 X487 X490 X492 X495 X496 X498 X502 X503 X512 X514 X515 X519 X520 X528 X534 X535 X539 X540 X541 X543 X546 X547 X551 X553 X558 X559 X560 X566 X570 X574 X575 X579 X582 X583 X586 X587 X589 X591 X592 X593 X594 X599 X601 X606 X612 X619 X622 X624 X626 X627 X628 X629 X637 X638 X640 X643 X644 X650 X652 X654 X656 X659 X661 X662 X665 X666 X673 X674 X675 X676 X677 X680 X681 X686 X690 X691 X696 X701 X702 X706 X708 X710 X712 X713 X714 X716 X721 X726 X731 X733 X734 X736 X738 X740 X741 X743 X744 X745 X746 X749 X751 X756 X759 X761 X765 X769 X772 X777 X780 X782 X783 X786 X787 X795 X800 X803 X812 X813 X814 X823 X827 X835 X838 X848 X849 X851 X852 X853 X854 X856 X857 X858 X862 X865 X867 X868 X870 X873 X875 
local varlist `r(varlist)'
foreach var of local varlist {
    quietly summarize `var'
    local m = r(mean)
    med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	eststo:med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	set emptycells drop
}
esttab using new_accave_2.csv, p(%10.7e) replace

////////////////////////////////////////////////////////////
eststo clear
stset FU_time_fromACC dementia
ds  X878 X879 X883 X891 X896 X897 X901 X902 X903 X907 X910 X912 X913 X920 X922 X924 X927 X932 X933 X934 X939 X944 X946 X949 X954 X955 X964 X965 X969 X972 X977 X978 X981 X983 X986 X987 X988 X989 X990 X991 X992 X993 X995 X1001 X1003 X1005 X1007 X1008 X1009 X1011 X1012 X1013 X1015 X1019 X1021 X1026 X1031 X1032 X1036 X1039 X1040 X1046 X1047 X1049 X1052 X1057 X1059 X1060 X1063 X1064 X1065 X1067 X1068 X1071 X1072 X1073 X1074 X1075 X1076 X1077 X1087 X1088 X1089 X1090 X1092 X1093 X1094 X1098 X1112 X1113 X1114 X1118 X1122 X1123 X1127 X1133 X1134 X1137 X1138 X1139 X1141 X1142 X1144 X1147 X1151 X1152 X1156 X1161 X1164 X1170 X1171 X1174 X1175 X1178 X1181 X1190 X1192 X1195 X1202 X1204 X1205 X1206 X1207 X1208 X1212 X1213 X1214 X1216 X1217 X1220 X1222 X1225 X1226 X1227 X1228 X1234 X1237 X1240 X1245 X1247 X1248 X1253 X1258 X1260 X1264 X1267 X1270 X1271 X1273 X1275 X1278 X1281 X1282 X1284 X1285 X1286 X1288 X1289 X1291 X1293 X1296 X1298 X1306 X1307 X1314 X1318 X1319 X1324 X1325 X1331 X1333 X1334 X1339 X1342 X1343 X1344 X1346 X1347 X1348 X1349 X1352 X1354 X1355 X1356 X1357 X1362 X1364 X1365 X1366 X1369 X1371 X1379 X1380 X1381 X1382 X1384 X1387 X1389 X1390 X1391 X1392 X1402 X1407 X1408 X1415 X1418 X1422 X1425 X1430 X1431 X1440 X1446 X1448 X1449 X1450 X1451 X1454 X1455 X1457 X1460 X1461 X1462 X1463 X1464 X1466 X1469 X1475 X1481 X1486 X1491 X1492 X1507 X1508 X1511 X1513 X1516 X1517 X1520 X1521 X1523 X1532 X1533 X1538 X1539 X1540 X1541 X1544 X1550 
local varlist `r(varlist)'
foreach var of local varlist {
    quietly summarize `var'
    local m = r(mean)
    med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	eststo:med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	set emptycells drop
}
esttab using new_accave_3.csv, p(%10.7e) replace

////////////////////////////////////////////////////////////
eststo clear
stset FU_time_fromACC dementia
ds X1551 X1553 X1555 X1557 X1560 X1563 X1565 X1567 X1571 X1572 X1573 X1575 X1577 X1578 X1579 X1580 X1581 X1582 X1587 X1590 X1593 X1594 X1599 X1601 X1603 X1604 X1605 X1607 X1611 X1612 X1613 X1616 X1617 X1619 X1622 X1627 X1628 X1631 X1632 X1633 X1635 X1648 X1652 X1657 X1660 X1667 X1677 X1680 X1684 X1686 X1691 X1693 X1695 X1698 X1701 X1702 X1705 X1708 X1710 X1711 X1714 X1719 X1723 X1731 X1732 X1733 X1737 X1738 X1739 X1743 X1745 X1753 X1755 X1761 X1765 X1766 X1769 X1770 X1772 X1773 X1778 X1779 X1783 X1784 X1785 X1786 X1788 X1791 X1792 X1793 X1796 X1799 X1801 X1802 X1803 X1809 X1810 X1811 X1813 X1817 X1820 X1821 X1822 X1832 X1833 X1836 X1837 X1840 X1842 X1843 X1844 X1847 X1850 X1855 X1856 X1862 X1863 X1867 X1876 X1878 X1880 X1881 X1883 X1884 X1885 X1891 X1894 X1895 X1896 X1897 X1898 X1901 X1905 X1907 X1909 X1910 X1914 X1917 X1921 X1923 X1924 X1927 X1929 X1930 X1935 X1938 X1939 X1944 X1945 X1947 X1948 X1953 X1955 X1956 X1963 X1964 X1969 X1972 X1975 X1977 X1979 X1980 X1982 X1993 X1994 X1995 X1996 X1998 X2006 X2007 X2011 X2019 X2021 X2024 X2025 X2034 X2035 X2036 X2043 X2046 X2048 X2050 X2052 X2053 X2054 X2057 X2061 X2062 X2063 X2066 X2067 X2068 X2073 X2078 X2079 X2082 X2090 X2095 X2096 X2099 X2101 X2102 X2103 X2110 X2118 X2126 X2128 X2130 X2133 X2135 X2148 X2149 X2151 X2152 X2156 X2157 X2158 X2159 X2161 X2163 X2164 X2166 X2167 X2176 X2177 X2178 X2180 X2181 X2184 X2187 X2189 X2190 X2191 X2199 X2201 X2202 X2203 X2206 X2210 X2212 
local varlist `r(varlist)'
foreach var of local varlist {
    quietly summarize `var'
    local m = r(mean)
    med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	eststo:med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	set emptycells drop
}
esttab using new_accave_4.csv, p(%10.7e) replace

////////////////////////////////////////////////////////////
eststo clear
stset FU_time_fromACC dementia
ds X2214 X2215 X2216 X2217 X2218 X2227 X2228 X2237 X2244 X2247 X2249 X2253 X2255 X2256 X2260 X2263 X2264 X2265 X2266 X2267 X2269 X2274 X2279 X2280 X2285 X2291 X2293 X2294 X2295 X2297 X2298 X2306 X2308 X2311 X2315 X2316 X2319 X2321 X2323 X2324 X2328 X2351 X2354 X2355 X2356 X2358 X2359 X2362 X2367 X2369 X2373 X2374 X2379 X2380 X2381 X2382 X2384 X2386 X2387 X2394 X2399 X2402 X2403 X2404 X2408 X2411 X2412 X2414 X2421 X2422 X2423 X2426 X2430 X2431 X2435 X2438 X2442 X2445 X2446 X2447 X2449 X2450 X2452 X2454 X2455 X2456 X2458 X2460 X2461 X2468 X2471 X2473 X2477 X2482 X2485 X2490 X2491 X2494 X2498 X2499 X2500 X2507 X2510 X2511 X2513 X2515 X2517 X2524 X2525 X2526 X2534 X2538 X2540 X2541 X2543 X2544 X2547 X2548 X2553 X2563 X2564 X2568 X2569 X2571 X2577 X2592 X2598 X2600 X2601 X2604 X2607 X2608 X2610 X2616 X2618 X2634 X2636 X2637 X2642 X2654 X2658 X2659 X2660 X2664 X2665 X2670 X2672 X2677 X2680 X2682 X2685 X2687 X2692 X2707 X2709 X2710 X2711 X2712 X2716 X2717 X2718 X2719 X2720 X2721 X2722 X2724 X2726 X2727 X2728 X2730 X2731 X2732 X2733 X2737 X2738 X2739 X2740 X2743 X2746 X2747 X2750 X2752 X2754 X2758 X2759 X2760 X2762 X2765 X2776 X2778 X2779 X2793 X2796 X2800 X2801 X2806 X2808 X2812 X2817 X2820 X2821 X2826 X2829 X2834 X2840 X2841 X2845 X2847 X2850 X2851 X2854 X2857 X2859 X2860 X2866 X2867 X2868 X2870 X2876 X2877 X2879 X2880 X2886 X2890 X2891 X2892 X2893 X2894 X2897 X2902 X2903 X2907 X2912 
local varlist `r(varlist)'
foreach var of local varlist {
    quietly summarize `var'
    local m = r(mean)
    med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	eststo:med4way Accel_Ave_~s `var' Season race_dummy1 race_dummy2 race_dummy3 race_dummy4 race_dummy5 f_21003_0_0 f_31_0_0 Education drinking smoking_dummy1 smoking_dummy2 bodyfat chronic_co~s, a0(27.02) a1(32.34) m(`m') yreg(cox) mreg(linear) fulloutput
	set emptycells drop
}
esttab using new_accave_5.csv, p(%10.7e) replace
